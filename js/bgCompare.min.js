"use strict";function fadeOut(e){e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}()}function fadeIn(e,t){e.style.opacity=0,e.style.display=t||"block",function t(){var n=parseFloat(e.style.opacity);(n+=.1)>1||(e.style.opacity=n,requestAnimationFrame(t))}()}function touchHandler(e){var t=e.changedTouches[0],n=document.createEvent("MouseEvent");n.initMouseEvent({touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[e.type],!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n),e.preventDefault()}function bgCompare(e){var t=e.beforeImage,n=e.afterImage,a=e.bgSize||"contain",r=e.targetId||"bgCompare",o=e.showTooltips||"yes",s=e.txtBefore||"Before",c=e.txtAfter||"After",d=e.handleTheme||"dark-theme",l=e.sliderPos||"50%";r&&t&&n?!function(){var e=document.getElementById(r),i=document.createDocumentFragment(),u=document.createElement("div");u.className="super-container",i.appendChild(u);var m=document.createElement("div");m.className="aspect-container",u.appendChild(m);var p=document.createElement("div");p.className="aspect-critical-content",m.appendChild(p);var f=document.createElement("div");f.className="before-wrapper",f.id="before"+r,p.appendChild(f);var y=document.createElement("div");y.className="after-wrapper",f.appendChild(y);var v=document.createElement("div");v.className="after-image",v.id="after"+r,y.appendChild(v);var h=document.createElement("div");if(h.className="comparison-slider handle",h.id=d,p.appendChild(h),"yes"===o){var E=document.createElement("div");E.className="avant",E.textContent=s,h.appendChild(E);var g=document.createElement("div");g.className="apres",g.textContent=c,h.appendChild(g)}e.appendChild(i);var w=document.querySelector("#"+r+" .comparison-slider"),C=document.querySelector("#"+r+" .before-wrapper"),b=document.querySelector("#"+r+" .after-wrapper"),L=document.querySelector("#"+r+" .after-image"),N=document.querySelector("#"+r+" .avant"),S=document.querySelector("#"+r+" .apres");C.style.background="url("+t+") center no-repeat",C.style.backgroundSize=a,L.style.background="url("+n+") center no-repeat",L.style.backgroundSize=a;var X=!1;w.addEventListener("mousedown",function(){X=!0,fadeOut(N),fadeOut(S)}),e.addEventListener("mouseup",function(){X=!1,fadeIn(N),fadeIn(S)}),window.addEventListener("mouseup",function(){X=!1}),e.addEventListener("mousemove",function(e){if(X){var t={top:C.offsetTop,left:C.offsetLeft},n=C.clientWidth,a=e.pageX-t.left;a<0?a=0:a>n&&(a=n),console.log(n),w.style.left=a+"px",w.style.transition="opacity 1s ease",b.style.transform="translateX("+a+"px)",b.style.transition="opacity 1s ease",L.style.transform="translateX("+-1*a+"px)",L.style.transition="opacity 1s ease"}}),e.addEventListener("touchstart",touchHandler,!0),e.addEventListener("touchmove",touchHandler,!0),e.addEventListener("touchend",touchHandler,!0),e.addEventListener("touchcancel",touchHandler,!0),window.onload=function(){w.style.left=l,b.style.transform="translateX("+l+")",L.style.transform="translateX(-"+l+")",C.style.opacity="1",L.style.opacity="1"},window.addEventListener("resize",function(){w.style.left=l,w.style.transition="left 1.5s",b.style.transform="translateX("+l+")",b.style.transition="transform 1.5s",L.style.transform="translateX(-"+l+")",L.style.transition="transform 1.5s"})}():console.log("Error: could not load slider. A parameter is missing")}